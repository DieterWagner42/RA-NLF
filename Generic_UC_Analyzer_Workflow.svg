<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: lightblue; stroke: navy; stroke-width: 2; }
      .process { fill: lightgreen; stroke: darkgreen; stroke-width: 2; }
      .decision { fill: lightyellow; stroke: orange; stroke-width: 2; }
      .output { fill: lightcoral; stroke: darkred; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
      .arrow { stroke: black; stroke-width: 2; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="black" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="600" y="30" class="title">Generic UC Analyzer - Workflow</text>
  
  <!-- Phase 1: Input & Parsing -->
  <rect x="50" y="60" width="120" height="60" class="box" />
  <text x="110" y="85" class="text">UC File Input</text>
  <text x="110" y="100" class="text">(.txt)</text>
  
  <rect x="200" y="60" width="120" height="60" class="box" />
  <text x="260" y="85" class="text">Parse UC File</text>
  <text x="260" y="100" class="text">Steps, Actors, Preconds</text>
  
  <!-- Phase 2: Domain Detection -->
  <rect x="350" y="60" width="120" height="60" class="process" />
  <text x="410" y="85" class="text">Domain Detection</text>
  <text x="410" y="100" class="text">Auto-detect from keywords</text>
  
  <!-- Phase 3: NLP Processing -->
  <rect x="50" y="160" width="140" height="60" class="process" />
  <text x="120" y="185" class="text">NLP Preprocessing</text>
  <text x="120" y="200" class="text">Compound Nouns + spaCy</text>
  
  <rect x="220" y="160" width="140" height="60" class="process" />
  <text x="290" y="185" class="text">Verb Analysis</text>
  <text x="290" y="200" class="text">Transaction/Transform/Function</text>
  
  <!-- Phase 4: RA Class Generation -->
  <rect x="390" y="160" width="140" height="60" class="process" />
  <text x="460" y="180" class="text">Generate RA Classes</text>
  <text x="460" y="195" class="text">Actor, Boundary,</text>
  <text x="460" y="210" class="text">Controller, Entity</text>
  
  <!-- Phase 5: Flow Analysis -->
  <rect x="560" y="160" width="140" height="60" class="process" />
  <text x="630" y="180" class="text">Control Flow Analysis</text>
  <text x="630" y="195" class="text">UC-Methode Rules 1-5</text>
  <text x="630" y="210" class="text">Parallel handling</text>
  
  <rect x="730" y="160" width="140" height="60" class="process" />
  <text x="800" y="180" class="text">Data Flow Analysis</text>
  <text x="800" y="195" class="text">Preposition semantics</text>
  <text x="800" y="210" class="text">USE/PROVIDE multiple</text>
  
  <!-- Phase 6: Validation -->
  <rect x="50" y="260" width="140" height="60" class="decision" />
  <text x="120" y="285" class="text">UC-Methode</text>
  <text x="120" y="300" class="text">Validation</text>
  
  <rect x="220" y="260" width="140" height="60" class="decision" />
  <text x="290" y="285" class="text">Actor Usage</text>
  <text x="290" y="300" class="text">Validation</text>
  
  <!-- Phase 7: Output Generation -->
  <rect x="420" y="260" width="100" height="60" class="output" />
  <text x="470" y="285" class="text">JSON Export</text>
  <text x="470" y="300" class="text">Full Analysis</text>
  
  <rect x="540" y="260" width="120" height="60" class="output" />
  <text x="600" y="280" class="text">Enhanced CSV</text>
  <text x="600" y="295" class="text">12 columns</text>
  <text x="600" y="310" class="text">Multiple flows</text>
  
  <rect x="680" y="260" width="100" height="60" class="output" />
  <text x="730" y="285" class="text">RA Diagram</text>
  <text x="730" y="300" class="text">SVG/PNG</text>
  
  <!-- Detailed Flow Boxes -->
  <rect x="50" y="360" width="200" height="80" class="box" style="fill: #e6f3ff;" />
  <text x="150" y="380" class="title" style="font-size: 14px;">Enhanced UC-Methode Rules</text>
  <text x="150" y="400" class="text">Rule 1: Actor + TransVerb → Boundary</text>
  <text x="150" y="415" class="text">Rule 2: Sequential + Parallel flows</text>
  <text x="150" y="430" class="text">Rules 3-5: Complete compliance</text>
  
  <rect x="270" y="360" width="200" height="80" class="box" style="fill: #f0f8e6;" />
  <text x="370" y="380" class="title" style="font-size: 14px;">Enhanced Data Semantics</text>
  <text x="370" y="400" class="text">Before preposition → USE</text>
  <text x="370" y="415" class="text">After preposition → PROVIDE</text>
  <text x="370" y="430" class="text">Multiple entities per step</text>
  
  <rect x="490" y="360" width="200" height="80" class="box" style="fill: #ffe6e6;" />
  <text x="590" y="380" class="title" style="font-size: 14px;">Multiple Data Flows CSV</text>
  <text x="590" y="400" class="text">One row per flow relationship</text>
  <text x="590" y="415" class="text">Controller: Multiple USE entities</text>
  <text x="590" y="430" class="text">Controller: Multiple PROVIDE entities</text>
  
  <!-- Domain Support -->
  <rect x="50" y="460" width="640" height="60" class="box" style="fill: #f9f9f9;" />
  <text x="370" y="480" class="title" style="font-size: 14px;">Domain-Agnostic Support</text>
  <text x="200" y="500" class="text">rocket_science</text>
  <text x="320" y="500" class="text">beverage_preparation</text>
  <text x="450" y="500" class="text">automotive</text>
  <text x="550" y="500" class="text">nuclear</text>
  <text x="620" y="500" class="text">+ any domain</text>
  
  <!-- Data Structures -->
  <rect x="50" y="540" width="150" height="100" class="box" style="fill: #fff2e6;" />
  <text x="125" y="560" class="title" style="font-size: 14px;">Input Data</text>
  <text x="125" y="580" class="text">• UC Steps</text>
  <text x="125" y="595" class="text">• Preconditions</text>
  <text x="125" y="610" class="text">• Actors</text>
  <text x="125" y="625" class="text">• Domain Config</text>
  
  <rect x="220" y="540" width="150" height="100" class="box" style="fill: #e6ffe6;" />
  <text x="295" y="560" class="title" style="font-size: 14px;">Processing</text>
  <text x="295" y="580" class="text">• VerbAnalysis</text>
  <text x="295" y="595" class="text">• RAClass generation</text>
  <text x="295" y="610" class="text">• Flow analysis</text>
  <text x="295" y="625" class="text">• Validation</text>
  
  <rect x="390" y="540" width="150" height="100" class="box" style="fill: #e6f3ff;" />
  <text x="465" y="560" class="title" style="font-size: 14px;">Output Data</text>
  <text x="465" y="580" class="text">• RA Classes (99+)</text>
  <text x="465" y="595" class="text">• Control Flows (65+)</text>
  <text x="465" y="610" class="text">• Data Flows (15+)</text>
  <text x="465" y="625" class="text">• Multi-format export</text>
  
  <!-- Statistics -->
  <rect x="560" y="540" width="130" height="100" class="box" style="fill: #ffe6f3;" />
  <text x="625" y="560" class="title" style="font-size: 14px;">UC3 Results</text>
  <text x="625" y="580" class="text">99 RA Classes</text>
  <text x="625" y="595" class="text">65 Control Flows</text>
  <text x="625" y="610" class="text">15 Data Flows</text>
  <text x="625" y="625" class="text">35 UC Steps</text>
  
  <!-- Arrows -->
  <line x1="170" y1="90" x2="200" y2="90" class="arrow" />
  <line x1="320" y1="90" x2="350" y2="90" class="arrow" />
  
  <line x1="410" y1="120" x2="410" y2="160" class="arrow" />
  <line x1="190" y1="190" x2="220" y2="190" class="arrow" />
  <line x1="360" y1="190" x2="390" y2="190" class="arrow" />
  <line x1="530" y1="190" x2="560" y2="190" class="arrow" />
  <line x1="700" y1="190" x2="730" y2="190" class="arrow" />
  
  <line x1="120" y1="220" x2="120" y2="260" class="arrow" />
  <line x1="290" y1="220" x2="290" y2="260" class="arrow" />
  <line x1="630" y1="220" x2="630" y2="240" class="arrow" />
  <line x1="630" y1="240" x2="470" y2="240" class="arrow" />
  <line x1="470" y1="240" x2="470" y2="260" class="arrow" />
  
  <line x1="470" y1="320" x2="470" y2="340" class="arrow" />
  <line x1="470" y1="340" x2="600" y2="340" class="arrow" />
  <line x1="600" y1="340" x2="600" y2="360" class="arrow" />
  
  <!-- Processing Flow -->
  <text x="600" y="680" class="title">Verarbeitungsreihenfolge: UC Input → Parsing → Domain Detection → NLP → RA Generation → Flow Analysis → Validation → Multi-Format Output</text>
  
  <!-- Performance Note -->
  <text x="600" y="720" class="text" style="font-style: italic;">Domain-agnostic • Multi-UC support • Enhanced UC-Methode compliance • Multiple data flows per step</text>
  
</svg>